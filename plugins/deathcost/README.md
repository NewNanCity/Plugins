# DeathCost æ­»äº¡æ‰£è´¹æ’ä»¶

ç°ä»£åŒ–çš„æ­»äº¡æ‰£è´¹æ’ä»¶ï¼ŒåŸºäº NewNanPlugins æ¡†æ¶å¼€å‘ï¼Œæä¾›å®Œæ•´çš„åŸºäºç»æµç³»ç»Ÿçš„æ­»äº¡æƒ©ç½šåŠŸèƒ½ã€‚

## ğŸ“– ç›®å½•

- [ä»‹ç»](#ä»‹ç»)
- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [åŠŸèƒ½ç‰¹æ€§](#åŠŸèƒ½ç‰¹æ€§)
- [å‘½ä»¤ç³»ç»Ÿ](#å‘½ä»¤ç³»ç»Ÿ)
- [æƒé™ç®¡ç†](#æƒé™ç®¡ç†)
- [é…ç½®æ–‡ä»¶](#é…ç½®æ–‡ä»¶)
- [æ•…éšœæ’é™¤](#æ•…éšœæ’é™¤)
- [æ–‡æ¡£é“¾æ¥](#æ–‡æ¡£é“¾æ¥)

## ğŸš€ ä»‹ç»

DeathCost æ˜¯ä¸€ä¸ªç°ä»£åŒ–çš„æ­»äº¡æ‰£è´¹ç³»ç»Ÿï¼Œè®©ç©å®¶åœ¨æ­»äº¡æ—¶æ ¹æ®å…¶è´¢å¯ŒçŠ¶å†µæ‰£é™¤ç›¸åº”çš„è´¹ç”¨ã€‚æ’ä»¶åŸºäº NewNanPlugins æ¡†æ¶å¼€å‘ï¼Œå…·æœ‰ä»¥ä¸‹æ ¸å¿ƒç‰¹æ€§ï¼š

**ğŸ†š å¯¹æ¯”ä¼ ç»Ÿæ­»äº¡æƒ©ç½šæ’ä»¶**

| ç‰¹æ€§       | ä¼ ç»Ÿæ­»äº¡æ’ä»¶ | DeathCost       |
| ---------- | ------------ | --------------- |
| æ‰£è´¹æ¨¡å¼   | å›ºå®šé‡‘é¢     | âœ… é˜¶æ¢¯æ‰£è´¹      |
| ç»æµé›†æˆ   | åŸºç¡€         | âœ… æ·±åº¦Vaulté›†æˆ |
| æƒé™æ§åˆ¶   | ç®€å•         | âœ… ç»†ç²’åº¦æƒé™    |
| æ¶ˆæ¯è‡ªå®šä¹‰ | æœ‰é™         | âœ… å¤šæ¸ é“æ¶ˆæ¯    |
| è½¬è´¦åŠŸèƒ½   | âŒ            | âœ… åŸºé‡‘è½¬è´¦      |
| é…ç½®çµæ´»æ€§ | ä¸€èˆ¬         | âœ… åŒæ¨¡å¼é…ç½®    |
| å›½é™…åŒ–     | âŒ            | âœ… ä¸­è‹±æ–‡åŒè¯­    |

**ğŸ’¡ æ ¸å¿ƒç‰¹æ€§**
- **é˜¶æ¢¯æ‰£è´¹**: æ ¹æ®ç©å®¶è´¢å¯ŒçŠ¶å†µè¿›è¡Œé˜¶æ¢¯å¼æ‰£è´¹
- **æƒé™ä¿æŠ¤**: æ”¯æŒ `deathcost.bypass` æ­»äº¡å…è´¹æƒé™
- **è½¬è´¦åŠŸèƒ½**: å¯å°†æ‰£è´¹è½¬å…¥æŒ‡å®šåŸºé‡‘è´¦æˆ·
- **æ¶ˆæ¯ç³»ç»Ÿ**: æ”¯æŒç©å®¶ã€å¹¿æ’­ã€æ§åˆ¶å°å¤šæ¸ é“æ¶ˆæ¯
- **åŒæ¨¡å¼**: ç®€å•æ¨¡å¼å’Œå¤æ‚é˜¶æ¢¯æ¨¡å¼
- **çƒ­é‡è½½**: æ”¯æŒé…ç½®æ–‡ä»¶çƒ­é‡è½½

**ğŸ¯ ä½¿ç”¨åœºæ™¯**
```yaml
# ç¤ºä¾‹ï¼šæ–°æ‰‹ä¿æŠ¤ + é˜¶æ¢¯æ‰£è´¹
complex-mode:
  - max: 5000.0    # æ–°æ‰‹æœŸï¼ˆ0-5000ï¼‰ä¸æ‰£è´¹
    cost: 0.0
    if-percent: false
  - max: 50000.0   # ä¸­æœŸï¼ˆ5000-50000ï¼‰æŒ‰0.1%æ‰£è´¹
    cost: 0.001
    if-percent: true
  - max: -1.0      # åæœŸï¼ˆ50000+ï¼‰æŒ‰0.24%æ‰£è´¹
    cost: 0.0024
    if-percent: true
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

1. **Bukkit/Spigot/Paper** æœåŠ¡å™¨
2. **Vault** æ’ä»¶
3. **ç»æµæ’ä»¶**ï¼ˆå¦‚ EssentialsXï¼‰

### å®‰è£…æ­¥éª¤

1. **ä¸‹è½½æ’ä»¶**: ä» Releases é¡µé¢ä¸‹è½½æœ€æ–°ç‰ˆæœ¬
2. **å®‰è£…ä¾èµ–**: ç¡®ä¿æœåŠ¡å™¨å·²å®‰è£… Vault å’Œç»æµæ’ä»¶
3. **æ”¾ç½®æ’ä»¶**: å°† jar æ–‡ä»¶æ”¾å…¥ `plugins` ç›®å½•
4. **é‡å¯æœåŠ¡å™¨**: é‡å¯æœåŠ¡å™¨ä»¥åŠ è½½æ’ä»¶

### åŸºç¡€é…ç½®

```yaml
# config.yml æœ€å°é…ç½®
death-cost:
  use-simple-mode: true
  simple-mode:
    cost: 50.0
    if-percent: false
  target-account: null

death-message:
  player-enable: true
  broadcast-enable: false
  console-enable: true
```

### å¿«é€Ÿä½¿ç”¨

```bash
# 1. æŸ¥çœ‹æ’ä»¶çŠ¶æ€
/deathcost status

# 2. ç»™äºˆç©å®¶å…è´¹æ­»äº¡æƒé™
/lp user <player> permission set deathcost.bypass true

# 3. é‡è½½é…ç½®
/deathcost reload
```

## â­ åŠŸèƒ½ç‰¹æ€§

### æ€»è§ˆ

DeathCostæä¾›ä¸¤ç§æ‰£è´¹æ¨¡å¼å’Œå®Œæ•´çš„ç®¡ç†åŠŸèƒ½ï¼š

- **ç®€å•æ¨¡å¼**: å›ºå®šé‡‘é¢æˆ–ç™¾åˆ†æ¯”æ‰£è´¹
- **å¤æ‚æ¨¡å¼**: å¤šé˜¶æ¢¯æ¸è¿›å¼æ‰£è´¹
- **æƒé™æ§åˆ¶**: æ”¯æŒæ­»äº¡å…è´¹æƒé™
- **è½¬è´¦åŠŸèƒ½**: æ‰£è´¹å¯è½¬å…¥åŸºé‡‘è´¦æˆ·
- **æ¶ˆæ¯ç³»ç»Ÿ**: å¤šæ¸ é“æ­»äº¡æ¶ˆæ¯é€šçŸ¥
- **å®æ—¶é‡è½½**: æ”¯æŒé…ç½®çƒ­é‡è½½

### ç®€å•ç”¨æ³•

#### åŸºç¡€æ‰£è´¹è®¾ç½®

```yaml
# ç®€å•æ¨¡å¼ - å›ºå®šæ‰£è´¹50é‡‘å¸
death-cost:
  use-simple-mode: true
  simple-mode:
    cost: 50.0
    if-percent: false
```

#### ç™¾åˆ†æ¯”æ‰£è´¹

```yaml
# ç®€å•æ¨¡å¼ - æ‰£è´¹1%
death-cost:
  use-simple-mode: true
  simple-mode:
    cost: 0.01
    if-percent: true
```

### é«˜çº§ç”¨æ³•

#### é˜¶æ¢¯æ‰£è´¹é…ç½®

```yaml
# å¤æ‚æ¨¡å¼ - é˜¶æ¢¯æ‰£è´¹
death-cost:
  use-simple-mode: false
  complex-mode:
    # æ–°æ‰‹ä¿æŠ¤ï¼š0-5000ä¸æ‰£è´¹
    - max: 5000.0
      cost: 0.0
      if-percent: false
    # åˆçº§ï¼š5000-10000å›ºå®šæ‰£20
    - max: 10000.0
      cost: 20.0
      if-percent: false
    # ä¸­çº§ï¼š10000-50000æŒ‰0.1%æ‰£è´¹
    - max: 50000.0
      cost: 0.001
      if-percent: true
    # é«˜çº§ï¼š50000+æŒ‰0.24%æ‰£è´¹
    - max: -1.0
      cost: 0.0024
      if-percent: true
```

#### åŸºé‡‘è½¬è´¦è®¾ç½®

```yaml
# å°†æ‰£è´¹è½¬å…¥åŸºé‡‘è´¦æˆ·
death-cost:
  target-account: "server_fund"
```

### APIå‚è€ƒ

#### æƒé™èŠ‚ç‚¹

```yaml
permissions:
  deathcost.bypass:      # æ­»äº¡ä¸æ‰£è´¹
  deathcost.admin:       # ç®¡ç†å‘˜æƒé™
  deathcost.reload:      # é‡è½½é…ç½®
  deathcost.status:      # æŸ¥çœ‹çŠ¶æ€
```

#### å‘½ä»¤åˆ—è¡¨

```bash
/deathcost              # æ˜¾ç¤ºæ’ä»¶ä¿¡æ¯
/deathcost reload       # é‡è½½é…ç½®
/deathcost status       # æ˜¾ç¤ºçŠ¶æ€
/deathcost help         # æ˜¾ç¤ºå¸®åŠ©
```

## ğŸ® å‘½ä»¤ç³»ç»Ÿ

### å¯ç”¨å‘½ä»¤

| å‘½ä»¤                     | æƒé™               | æè¿°                   |
| ------------------------ | ------------------ | ---------------------- |
| `/deathcost`             | æ—                  | æ˜¾ç¤ºæ’ä»¶å¸®åŠ©ä¿¡æ¯       |
| `/deathcost help [æŸ¥è¯¢]` | æ—                  | æ˜¾ç¤ºå‘½ä»¤å¸®åŠ©           |
| `/deathcost reload`      | `deathcost.reload` | é‡è½½æ’ä»¶é…ç½®           |
| `/deathcost status`      | `deathcost.status` | æ˜¾ç¤ºæ’ä»¶çŠ¶æ€å’Œé…ç½®ä¿¡æ¯ |

### å‘½ä»¤ç¤ºä¾‹

```bash
# æŸ¥çœ‹æ’ä»¶çŠ¶æ€
/deathcost status

# é‡è½½é…ç½®
/deathcost reload

# æŸ¥çœ‹å¸®åŠ©
/deathcost help

# æŸ¥çœ‹ç‰¹å®šå‘½ä»¤çš„å¸®åŠ©
/deathcost help status
```

## ğŸ” æƒé™ç®¡ç†

### æƒé™èŠ‚ç‚¹è¯¦è§£

| æƒé™èŠ‚ç‚¹           | æè¿°               | é»˜è®¤å€¼  |
| ------------------ | ------------------ | ------- |
| `deathcost.bypass` | æ­»äº¡ä¸ä¼šæ‰£è´¹çš„æƒé™ | `false` |
| `deathcost.reload` | é‡è½½æ’ä»¶é…ç½®çš„æƒé™ | `op`    |
| `deathcost.status` | æŸ¥çœ‹æ’ä»¶çŠ¶æ€çš„æƒé™ | `op`    |

### LuckPerms é…ç½®ç¤ºä¾‹

```bash
# ç»™äºˆç©å®¶æ­»äº¡å…è´¹æƒé™
/lp user <player> permission set deathcost.bypass true

# ç»™äºˆç®¡ç†å‘˜æƒé™
/lp user <admin> permission set deathcost.reload true
/lp user <admin> permission set deathcost.status true

# åˆ›å»ºVIPç»„å…è´¹æ­»äº¡
/lp group vip permission set deathcost.bypass true

# ä¸´æ—¶ç»™æ–°æ‰‹7å¤©å…è´¹æ­»äº¡æƒé™
/lp user <newbie> permission settemp deathcost.bypass true 7d
```

## âš™ï¸ é…ç½®æ–‡ä»¶

### å®Œæ•´é…ç½®ç¤ºä¾‹

```yaml
# DeathCost æ­»äº¡æ‰£è´¹æ’ä»¶é…ç½®æ–‡ä»¶

# æ¶ˆæ¯å‰ç¼€è®¾ç½®
player-message-prefix: "&7[&6ç‰›è…©å°é•‡&7] &f"
console-message-prefix: "[DeathCost] "

# æ­»äº¡æ‰£è´¹é…ç½®
death-cost:
  # ç›®æ ‡è½¬è´¦è´¦æˆ·ï¼ˆå¯é€‰ï¼‰
  # è®¾ç½®åï¼Œæ‰£é™¤çš„è´¹ç”¨ä¼šè½¬å…¥æ­¤è´¦æˆ·
  # æ”¯æŒç©å®¶åæˆ– UUIDï¼Œç•™ç©ºåˆ™è´¹ç”¨ç›´æ¥æ¶ˆå¤±
  target-account: null

  # æ‰£è´¹æ¨¡å¼é€‰æ‹©
  # true: ç®€å•æ¨¡å¼ï¼Œfalse: å¤æ‚é˜¶æ¢¯æ¨¡å¼
  use-simple-mode: false

  # ç®€å•æ¨¡å¼é…ç½®
  simple-mode:
    cost: 50.0        # æ‰£è´¹æ•°å€¼
    if-percent: false # true=ç™¾åˆ†æ¯”ï¼Œfalse=å›ºå®šé‡‘é¢

  # å¤æ‚æ¨¡å¼é…ç½®ï¼ˆé˜¶æ¢¯æ‰£è´¹ï¼‰
  complex-mode:
    # ç¬¬ä¸€é˜¶æ¢¯ï¼š0-5000 é‡‘å¸ï¼Œä¸æ‰£è´¹ï¼ˆæ–°æ‰‹ä¿æŠ¤ï¼‰
    - max: 5000.0
      cost: 0.0
      if-percent: false
    # ç¬¬äºŒé˜¶æ¢¯ï¼š5000-10000 é‡‘å¸ï¼Œå›ºå®šæ‰£è´¹ 20
    - max: 10000.0
      cost: 20.0
      if-percent: false
    # ç¬¬ä¸‰é˜¶æ¢¯ï¼š10000-50000 é‡‘å¸ï¼ŒæŒ‰ 0.1% æ‰£è´¹
    - max: 50000.0
      cost: 0.001
      if-percent: true
    # ç¬¬å››é˜¶æ¢¯ï¼š50000+ é‡‘å¸ï¼ŒæŒ‰ 0.24% æ‰£è´¹
    - max: -1          # -1 è¡¨ç¤ºæ— ä¸Šé™
      cost: 0.0024
      if-percent: true

# æ­»äº¡æ¶ˆæ¯é…ç½®
death-message:
  player-enable: true    # å‘ç©å®¶å‘é€æ‰£è´¹æ¶ˆæ¯
  broadcast-enable: false # å…¨æœå¹¿æ’­æ­»äº¡æ‰£è´¹
  console-enable: false   # æ§åˆ¶å°è®°å½•æ‰£è´¹æ—¥å¿—
```

### é…ç½®è¯´æ˜

#### æ‰£è´¹æ¨¡å¼é€‰æ‹©

- `use-simple-mode: true`: ä½¿ç”¨ç®€å•æ¨¡å¼
- `use-simple-mode: false`: ä½¿ç”¨å¤æ‚é˜¶æ¢¯æ¨¡å¼

#### é˜¶æ¢¯é…ç½®è¯´æ˜

- `max`: é˜¶æ¢¯ä¸Šé™ï¼Œ`-1.0` è¡¨ç¤ºæ— ä¸Šé™
- `cost`: æ‰£è´¹é‡‘é¢æˆ–ç™¾åˆ†æ¯”
- `if-percent`: `true` ä¸ºç™¾åˆ†æ¯”ï¼Œ`false` ä¸ºå›ºå®šé‡‘é¢

#### ç›®æ ‡è´¦æˆ·è®¾ç½®

```yaml
# ä½¿ç”¨ç©å®¶å
target-account: "server_fund"

# ä½¿ç”¨ UUID
target-account: "550e8400-e29b-41d4-a716-446655440000"

# ä¸è½¬è´¦ï¼ˆè´¹ç”¨ç›´æ¥æ¶ˆå¤±ï¼‰
target-account: null
```

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é”™è¯¯

#### 1. ç»æµç³»ç»Ÿæœªè¿æ¥

**é”™è¯¯**: `Vault plugin not found!`

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ£€æŸ¥Vaultæ’ä»¶
/plugins

# ç¡®ä¿å®‰è£…äº† Vault å’Œç»æµæ’ä»¶ï¼ˆå¦‚ EssentialsXï¼‰
```

#### 2. é…ç½®æ–‡ä»¶é”™è¯¯

**é”™è¯¯**: `æ’ä»¶é…ç½®é‡æ–°åŠ è½½å¤±è´¥`

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ£€æŸ¥YAMLè¯­æ³•
# ä½¿ç”¨åœ¨çº¿YAMLéªŒè¯å™¨æ£€æŸ¥ config.yml

# é‡æ–°åŠ è½½é…ç½®
/deathcost reload
```

#### 3. æƒé™é—®é¢˜

**é”™è¯¯**: `You don't have permission`

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ£€æŸ¥æƒé™
/lp user <player> permission check deathcost.bypass

# ç»™äºˆæƒé™
/lp user <player> permission set deathcost.reload true
```

#### 4. æ­»äº¡æ—¶ä¸æ‰£è´¹

**å¯èƒ½åŸå› **:
- ç©å®¶æœ‰ `deathcost.bypass` æƒé™
- é…ç½®æ–‡ä»¶ä¸­æ‰£è´¹è®¾ç½®ä¸º 0
- ç»æµæ’ä»¶é›†æˆé—®é¢˜

**æ£€æŸ¥æ­¥éª¤**:
```bash
# æŸ¥çœ‹æ’ä»¶çŠ¶æ€
/deathcost status

# æ£€æŸ¥ç©å®¶æƒé™
/lp user <player> permission check deathcost.bypass
```

### è°ƒè¯•å»ºè®®

1. **æŸ¥çœ‹æ’ä»¶çŠ¶æ€**: ä½¿ç”¨ `/deathcost status` æ£€æŸ¥å½“å‰é…ç½®
2. **æµ‹è¯•æƒé™**: ç»™è‡ªå·±æ·»åŠ /ç§»é™¤ `deathcost.bypass` æƒé™æµ‹è¯•
3. **è§‚å¯Ÿæ§åˆ¶å°**: å¼€å¯æ§åˆ¶å°æ¶ˆæ¯æŸ¥çœ‹æ‰£è´¹è®°å½•
4. **åˆ†æ®µæµ‹è¯•**: å…ˆä½¿ç”¨ç®€å•æ¨¡å¼æµ‹è¯•ï¼Œå†é…ç½®å¤æ‚æ¨¡å¼

## ğŸ“– æ–‡æ¡£é“¾æ¥

- **è¯¦ç»†ä½¿ç”¨æŒ‡å—**: [docs/plugins/deathcost/README.md](../../docs/plugins/deathcost/README.md)
- **é¡¹ç›®ä¸»é¡µ**: [NewNanPlugins](https://github.com/NewNanCity/NewNanPlugins)
- **é—®é¢˜åé¦ˆ**: [GitHub Issues](https://github.com/NewNanCity/NewNanPlugins/issues)

---

**DeathCost v2.0.0** - è®©æ­»äº¡æ›´æœ‰æ„ä¹‰çš„ç»æµç³»ç»Ÿ ğŸ’€ğŸ’°
