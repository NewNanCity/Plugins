# RailArea Plugin

ä¸€ä¸ªç°ä»£åŒ–çš„ Minecraft é“è·¯åŒºåŸŸç®¡ç†æ’ä»¶ï¼Œæä¾›è‡ªåŠ¨åŒ–çŸ¿è½¦ç³»ç»Ÿã€éŸ³æ•ˆç®¡ç†å’Œå¯è§†åŒ–åŠŸèƒ½ã€‚

## åŠŸèƒ½ç‰¹æ€§

### ğŸš„ æ ¸å¿ƒåŠŸèƒ½
- **æ™ºèƒ½åŒºåŸŸæ£€æµ‹**: ä½¿ç”¨å…«å‰æ ‘ç®—æ³•å®ç°é«˜æ•ˆçš„ 3D ç©ºé—´åŒºåŸŸæ£€æµ‹
- **è‡ªåŠ¨çŸ¿è½¦ç®¡ç†**: è‡ªåŠ¨åŒ–çš„çŸ¿è½¦å¬å”¤ã€ç­‰å¾…å’Œå‘è½¦ç³»ç»Ÿ
- **éŸ³æ•ˆç³»ç»Ÿ**: æ”¯æŒåˆ°ç«™éŸ³ä¹ã€å‘è½¦éŸ³ä¹å’Œè­¦å‘ŠéŸ³æ•ˆ
- **å¯è§†åŒ–å·¥å…·**: ç²’å­æ•ˆæœæ˜¾ç¤ºåŒºåŸŸè¾¹ç•Œå’ŒèŒƒå›´
- **å¤šä¸–ç•Œæ”¯æŒ**: æ”¯æŒå¤šä¸ªä¸–ç•Œçš„ç‹¬ç«‹é“è·¯ç³»ç»Ÿ

### ğŸµ éŸ³æ•ˆç®¡ç†
- è‡ªå®šä¹‰åˆ°ç«™éŸ³ä¹æ’­æ”¾
- å‘è½¦éŸ³ä¹æé†’
- è­¦å‘ŠéŸ³æ•ˆç³»ç»Ÿ
- æ”¯æŒå¤šéŸ³ç¬¦åºåˆ—æ’­æ”¾

### ğŸ® ç”¨æˆ·äº¤äº’
- å³é”®é“è½¨è‡ªåŠ¨å¬å”¤çŸ¿è½¦
- å®æ—¶ ActionBar å’Œ Title æç¤º
- åŒºåŸŸè¿›å…¥/ç¦»å¼€äº‹ä»¶å¤„ç†
- å‘½ä»¤è¡Œç®¡ç†ç•Œé¢

### ğŸ”§ æŠ€æœ¯ç‰¹æ€§
- åŸºäºç°ä»£åŒ–çš„ Kotlin å¼€å‘
- ä½¿ç”¨åç¨‹è¿›è¡Œå¼‚æ­¥å¤„ç†
- å®Œæ•´çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†
- å†…å­˜æ³„æ¼é˜²æŠ¤
- é«˜æ€§èƒ½å…«å‰æ ‘ç©ºé—´ç´¢å¼•
- å®Œæ•´çš„GUIç®¡ç†ç•Œé¢
- å¥å£®çš„é”™è¯¯å¤„ç†æœºåˆ¶

## å¿«é€Ÿå¼€å§‹

### å®‰è£…è¦æ±‚
- Minecraft 1.20.1+
- Paper æœåŠ¡å™¨
- CommandAPI æ’ä»¶

### å®‰è£…æ­¥éª¤
1. ä¸‹è½½ `railarea-2.0.0.jar` æ–‡ä»¶
2. å°†æ–‡ä»¶æ”¾å…¥æœåŠ¡å™¨çš„ `plugins` ç›®å½•
3. é‡å¯æœåŠ¡å™¨
4. é…ç½® `config.yml` å’Œ `rails.yml` æ–‡ä»¶

### åŸºæœ¬é…ç½®

#### config.yml
```yaml
# ä¸–ç•Œå¤§å°é…ç½®
worldSize:
  world:
    x1: -1000
    z1: -1000
    x2: 1000
    z2: 1000

# çŸ¿è½¦é…ç½®
minecart:
  waitingSeconds: 100
  warningSeconds: 20
  maxSpeed: 0.4

# éŸ³æ•ˆé…ç½®
arriveMusic:
  - note: "C4"
    delay: 0
  - note: "E4"
    delay: 10

startMusic:
  - note: "G4"
    delay: 0
  - note: "C5"
    delay: 10

warningSound:
  sound: "BLOCK_NOTE_BLOCK_PLING"
  volume: 1.0
  pitch: 2.0
```

#### rails.yml
```yaml
# çº¿è·¯é…ç½®
lines:
  line1:
    name: "1å·çº¿"
    color: "&c"
    stations:
      - "station1"
      - "station2"

# ç«™ç‚¹é…ç½®
stations:
  station1:
    name: "ä¸­å¤®è½¦ç«™"
    world: "world"
    x: 100
    y: 64
    z: 200

# åŒºåŸŸé…ç½®
areas:
  area1:
    station: "station1"
    line: "line1"
    world: "world"
    x1: 95
    y1: 60
    z1: 195
    x2: 105
    y2: 70
    z2: 205
```

## å‘½ä»¤ä½¿ç”¨

### åŸºæœ¬å‘½ä»¤
- `/railarea` - æ‰“å¼€ä¸»GUIç®¡ç†ç•Œé¢
- `/railarea info` - æ˜¾ç¤ºæ’ä»¶ä¿¡æ¯å’Œç»Ÿè®¡
- `/railarea reload` - é‡è½½æ’ä»¶é…ç½®
- `/railarea status` - æ˜¾ç¤ºæ’ä»¶çŠ¶æ€ä¿¡æ¯

### ç®¡ç†å‘½ä»¤
- `/railarea help` - æ˜¾ç¤ºå‘½ä»¤å¸®åŠ©ä¿¡æ¯
- æ‰€æœ‰åŠŸèƒ½éƒ½å¯é€šè¿‡GUIç•Œé¢è¿›è¡Œç®¡ç†

## å¼€å‘ä¿¡æ¯

### é¡¹ç›®ç»“æ„
```
src/main/kotlin/city/newnan/railarea/
â”œâ”€â”€ RailAreaPlugin.kt          # ä¸»æ’ä»¶ç±»
â”œâ”€â”€ config/                    # é…ç½®ç›¸å…³
â”‚   â”œâ”€â”€ RailAreaConfig.kt     # ä¸»é…ç½®ç±»
â”‚   â”œâ”€â”€ Area.kt               # åŒºåŸŸé…ç½®
â”‚   â””â”€â”€ Station.kt            # ç«™ç‚¹é…ç½®
â”œâ”€â”€ manager/                   # ç®¡ç†å™¨
â”‚   â”œâ”€â”€ RailAreaManager.kt    # åŒºåŸŸç®¡ç†å™¨
â”‚   â”œâ”€â”€ MinecartManager.kt    # çŸ¿è½¦ç®¡ç†å™¨
â”‚   â””â”€â”€ SoundManager.kt       # éŸ³æ•ˆç®¡ç†å™¨
â”œâ”€â”€ spatial/                   # ç©ºé—´ç®—æ³•
â”‚   â”œâ”€â”€ Octree.kt             # å…«å‰æ ‘å®ç°
â”‚   â”œâ”€â”€ Point3D.kt            # 3D ç‚¹
â”‚   â””â”€â”€ Range3D.kt            # 3D èŒƒå›´
â”œâ”€â”€ events/                    # äº‹ä»¶å¤„ç†
â”œâ”€â”€ commands/                  # å‘½ä»¤å¤„ç†
â””â”€â”€ utils/                     # å·¥å…·ç±»
```

### æŠ€æœ¯æ ˆ
- **è¯­è¨€**: Kotlin 1.9+
- **æ„å»ºå·¥å…·**: Gradle 8.8
- **æœåŠ¡å™¨**: Paper 1.20.1
- **ä¾èµ–ç®¡ç†**: åŸºäºé¡¹ç›®æ¨¡å—åŒ–æ¶æ„
- **é…ç½®**: Jackson JSON/YAML å¤„ç†
- **å‘½ä»¤**: CommandAPI æ¡†æ¶

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚è¯¦è§ LICENSE æ–‡ä»¶ã€‚

## è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## æ›´æ–°æ—¥å¿—

### v2.0.0
- å®Œå…¨é‡å†™ä¸ºç°ä»£åŒ– Kotlin æ’ä»¶
- æ–°å¢å…«å‰æ ‘ç©ºé—´ç´¢å¼•ç®—æ³•
- æ”¹è¿›çš„éŸ³æ•ˆç³»ç»Ÿ
- å®Œæ•´çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†
- å†…å­˜æ³„æ¼é˜²æŠ¤
- æ¨¡å—åŒ–æ¶æ„è®¾è®¡
- å®Œæ•´çš„GUIç®¡ç†ç•Œé¢
- å¥å£®çš„é”™è¯¯å¤„ç†å’Œå¼‚å¸¸æ¢å¤
- å®Œå–„çš„å›½é™…åŒ–æ”¯æŒ
- ä¼˜åŒ–çš„é…ç½®ç®¡ç†ç³»ç»Ÿ
