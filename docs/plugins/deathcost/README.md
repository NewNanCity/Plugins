# DeathCost æ­»äº¡æ‰£è´¹æ’ä»¶ä½¿ç”¨æŒ‡å—

ä¸€ä¸ªç°ä»£åŒ–çš„æ­»äº¡æ‰£è´¹æ’ä»¶ï¼ŒåŸºäº NewNanPlugins æ¡†æ¶å¼€å‘ï¼Œæä¾›çµæ´»çš„æ­»äº¡ç»æµæƒ©ç½šç³»ç»Ÿã€‚

## ğŸ“– ç›®å½•

- [æ’ä»¶ä»‹ç»](#æ’ä»¶ä»‹ç»)
- [åŠŸèƒ½ç‰¹æ€§](#åŠŸèƒ½ç‰¹æ€§)
- [å®‰è£…é…ç½®](#å®‰è£…é…ç½®)
- [æƒé™ç³»ç»Ÿ](#æƒé™ç³»ç»Ÿ)
- [å‘½ä»¤ç³»ç»Ÿ](#å‘½ä»¤ç³»ç»Ÿ)
- [é…ç½®è¯¦è§£](#é…ç½®è¯¦è§£)
- [ä½¿ç”¨ç¤ºä¾‹](#ä½¿ç”¨ç¤ºä¾‹)
- [æ•…éšœæ’é™¤](#æ•…éšœæ’é™¤)

## ğŸš€ æ’ä»¶ä»‹ç»

DeathCost æ˜¯ä¸€ä¸ªæ”¯æŒé˜¶æ¢¯å¼æ­»äº¡æ‰£è´¹çš„ç»æµæ’ä»¶ï¼Œè®©ç©å®¶åœ¨æ­»äº¡æ—¶æ ¹æ®å…¶è´¢å¯ŒçŠ¶å†µç¼´çº³ç›¸åº”çš„è´¹ç”¨ã€‚æ’ä»¶è®¾è®¡ç²¾å·§ï¼ŒåŠŸèƒ½ä¸°å¯Œï¼Œé€‚åˆå„ç§è§„æ¨¡çš„æœåŠ¡å™¨ä½¿ç”¨ã€‚

### æ ¸å¿ƒä¼˜åŠ¿

- **ğŸ¯ é˜¶æ¢¯æ‰£è´¹**: æ”¯æŒç®€å•å›ºå®šæ‰£è´¹å’Œå¤æ‚é˜¶æ¢¯æ‰£è´¹ä¸¤ç§æ¨¡å¼
- **ğŸ”’ æƒé™æ§åˆ¶**: å®Œå–„çš„æƒé™ç³»ç»Ÿï¼Œæ”¯æŒæ­»äº¡å…è´¹æƒé™
- **ğŸ’¸ èµ„é‡‘è½¬ç§»**: å¯å°†æ‰£é™¤çš„è´¹ç”¨è½¬å…¥æŒ‡å®šè´¦æˆ·
- **ğŸ“¢ æ¶ˆæ¯ç³»ç»Ÿ**: å¤šæ¸ é“æ­»äº¡æ¶ˆæ¯é€šçŸ¥ï¼ˆç©å®¶/å¹¿æ’­/æ§åˆ¶å°ï¼‰
- **ğŸŒ å›½é™…åŒ–**: å®Œæ•´çš„ä¸­è‹±æ–‡åŒè¯­æ”¯æŒ
- **âš¡ çƒ­é‡è½½**: æ”¯æŒé…ç½®æ–‡ä»¶çƒ­é‡è½½ï¼Œæ— éœ€é‡å¯æœåŠ¡å™¨
- **ğŸ—ï¸ ç°ä»£æ¶æ„**: åŸºäº NewNanPlugins æ¡†æ¶ï¼Œä»£ç ç»“æ„æ¸…æ™°

## â­ åŠŸèƒ½ç‰¹æ€§

### æ‰£è´¹æ¨¡å¼

**ç®€å•æ¨¡å¼**
- å›ºå®šé‡‘é¢æ‰£è´¹ï¼ˆå¦‚æ¯æ¬¡æ­»äº¡æ‰£ 50 é‡‘å¸ï¼‰
- ç™¾åˆ†æ¯”æ‰£è´¹ï¼ˆå¦‚æ¯æ¬¡æ­»äº¡æ‰£ä½™é¢çš„ 1%ï¼‰

**å¤æ‚æ¨¡å¼ï¼ˆé˜¶æ¢¯æ‰£è´¹ï¼‰**
- æ ¹æ®ç©å®¶è´¢å¯Œåˆ†é˜¶æ¢¯æ‰£è´¹
- æ”¯æŒæ–°æ‰‹ä¿æŠ¤ï¼ˆä½ä½™é¢ä¸æ‰£è´¹ï¼‰
- çµæ´»çš„é˜¶æ¢¯é…ç½®ï¼Œå¯è®¾ç½®æ— é™é˜¶æ¢¯

### æƒé™ä¿æŠ¤

- `deathcost.bypass` æƒé™è®©ç©å®¶æ­»äº¡æ—¶ä¸æ‰£è´¹
- å®Œå–„çš„ç®¡ç†æƒé™ç³»ç»Ÿ
- æ”¯æŒ LuckPerms ç­‰æƒé™æ’ä»¶

### èµ„é‡‘ç®¡ç†

- å¯é€‰æ‹©å°†æ‰£è´¹è½¬å…¥æŒ‡å®šè´¦æˆ·ï¼ˆå¦‚æœåŠ¡å™¨åŸºé‡‘ï¼‰
- æ”¯æŒ UUID å’Œç©å®¶åä¸¤ç§è´¦æˆ·æŒ‡å®šæ–¹å¼
- ä¸ Vault ç»æµç³»ç»Ÿæ·±åº¦é›†æˆ

### æ¶ˆæ¯ç³»ç»Ÿ

- ç©å®¶ä¸ªäººæ¶ˆæ¯ï¼šé€šçŸ¥ç©å®¶æ‰£è´¹é‡‘é¢
- å…¨æœå¹¿æ’­ï¼šå¯é€‰çš„æ­»äº¡æ‰£è´¹å¹¿æ’­
- æ§åˆ¶å°æ—¥å¿—ï¼šè®°å½•æ‰€æœ‰æ­»äº¡æ‰£è´¹äº‹ä»¶
- æ”¯æŒ Adventure ç»„ä»¶çš„ç°ä»£åŒ–æ¶ˆæ¯æ ¼å¼

## ğŸ”§ å®‰è£…é…ç½®

### å‰ç½®è¦æ±‚

1. **Bukkit/Spigot/Paper** æœåŠ¡å™¨
2. **Vault** æ’ä»¶
3. **ç»æµæ’ä»¶**ï¼ˆå¦‚ EssentialsXï¼‰

### å®‰è£…æ­¥éª¤

1. ä¸‹è½½ DeathCost æ’ä»¶ jar æ–‡ä»¶
2. å°†æ–‡ä»¶æ”¾å…¥æœåŠ¡å™¨çš„ `plugins` ç›®å½•
3. é‡å¯æœåŠ¡å™¨æˆ–ä½¿ç”¨ PlugMan ç­‰æ’ä»¶çƒ­åŠ è½½
4. æ’ä»¶ä¼šè‡ªåŠ¨ç”Ÿæˆé…ç½®æ–‡ä»¶

### åŸºç¡€é…ç½®

```yaml
# config.yml æœ€å°å¯ç”¨é…ç½®
death-cost:
  use-simple-mode: true
  simple-mode:
    cost: 50.0
    if-percent: false

death-message:
  player-enable: true
  broadcast-enable: false
  console-enable: true
```

## ğŸ” æƒé™ç³»ç»Ÿ

### æƒé™èŠ‚ç‚¹

| æƒé™èŠ‚ç‚¹           | æè¿°           | é»˜è®¤å€¼  |
| ------------------ | -------------- | ------- |
| `deathcost.bypass` | æ­»äº¡ä¸æ‰£è´¹æƒé™ | `false` |
| `deathcost.reload` | é‡è½½é…ç½®æƒé™   | `op`    |
| `deathcost.status` | æŸ¥çœ‹çŠ¶æ€æƒé™   | `op`    |

### æƒé™é…ç½®ç¤ºä¾‹

**ä½¿ç”¨ LuckPerms è®¾ç½®æƒé™**

```bash
# ç»™ç©å®¶è®¾ç½®æ­»äº¡å…è´¹æƒé™
/lp user <ç©å®¶å> permission set deathcost.bypass true

# ç»™ç®¡ç†å‘˜è®¾ç½®ç®¡ç†æƒé™
/lp user <ç®¡ç†å‘˜> permission set deathcost.reload true
/lp user <ç®¡ç†å‘˜> permission set deathcost.status true

# ç»™ VIP ç»„è®¾ç½®æ­»äº¡å…è´¹æƒé™
/lp group vip permission set deathcost.bypass true

# ä¸´æ—¶ç»™æ–°æ‰‹7å¤©æ­»äº¡å…è´¹æƒé™
/lp user <æ–°æ‰‹> permission settemp deathcost.bypass true 7d
```

## ğŸ® å‘½ä»¤ç³»ç»Ÿ

### å¯ç”¨å‘½ä»¤

| å‘½ä»¤                     | æƒé™è¦æ±‚           | æè¿°               |
| ------------------------ | ------------------ | ------------------ |
| `/deathcost`             | æ—                  | æ˜¾ç¤ºæ’ä»¶å¸®åŠ©ä¿¡æ¯   |
| `/deathcost help [æŸ¥è¯¢]` | æ—                  | æ˜¾ç¤ºå‘½ä»¤å¸®åŠ©       |
| `/deathcost reload`      | `deathcost.reload` | é‡è½½æ’ä»¶é…ç½®       |
| `/deathcost status`      | `deathcost.status` | æ˜¾ç¤ºæ’ä»¶çŠ¶æ€å’Œé…ç½® |

### å‘½ä»¤ä½¿ç”¨ç¤ºä¾‹

```bash
# æŸ¥çœ‹æ’ä»¶çŠ¶æ€
/deathcost status

# é‡è½½é…ç½®æ–‡ä»¶
/deathcost reload

# æŸ¥çœ‹å¸®åŠ©
/deathcost help

# æŸ¥çœ‹ç‰¹å®šå‘½ä»¤å¸®åŠ©
/deathcost help status
```

## âš™ï¸ é…ç½®è¯¦è§£

### å®Œæ•´é…ç½®æ–‡ä»¶

```yaml
# DeathCost æ­»äº¡æ‰£è´¹æ’ä»¶é…ç½®æ–‡ä»¶

# æ¶ˆæ¯å‰ç¼€è®¾ç½®
player-message-prefix: "&7[&6ç‰›è…©å°é•‡&7] &f"
console-message-prefix: "[DeathCost] "

# æ­»äº¡æ‰£è´¹é…ç½®
death-cost:
  # ç›®æ ‡è½¬è´¦è´¦æˆ·ï¼ˆå¯é€‰ï¼‰
  # è®¾ç½®åï¼Œæ‰£é™¤çš„è´¹ç”¨ä¼šè½¬å…¥æ­¤è´¦æˆ·
  # æ”¯æŒç©å®¶åæˆ– UUIDï¼Œç•™ç©ºåˆ™è´¹ç”¨ç›´æ¥æ¶ˆå¤±
  target-account: null

  # æ‰£è´¹æ¨¡å¼é€‰æ‹©
  # true: ç®€å•æ¨¡å¼ï¼Œfalse: å¤æ‚é˜¶æ¢¯æ¨¡å¼
  use-simple-mode: false

  # ç®€å•æ¨¡å¼é…ç½®
  simple-mode:
    cost: 50.0        # æ‰£è´¹æ•°å€¼
    if-percent: false # true=ç™¾åˆ†æ¯”ï¼Œfalse=å›ºå®šé‡‘é¢

  # å¤æ‚æ¨¡å¼é…ç½®ï¼ˆé˜¶æ¢¯æ‰£è´¹ï¼‰
  complex-mode:
    # ç¬¬ä¸€é˜¶æ¢¯ï¼š0-5000 é‡‘å¸ï¼Œä¸æ‰£è´¹ï¼ˆæ–°æ‰‹ä¿æŠ¤ï¼‰
    - max: 5000.0
      cost: 0.0
      if-percent: false

    # ç¬¬äºŒé˜¶æ¢¯ï¼š5000-10000 é‡‘å¸ï¼Œå›ºå®šæ‰£è´¹ 20
    - max: 10000.0
      cost: 20.0
      if-percent: false

    # ç¬¬ä¸‰é˜¶æ¢¯ï¼š10000-50000 é‡‘å¸ï¼ŒæŒ‰ 0.1% æ‰£è´¹
    - max: 50000.0
      cost: 0.001
      if-percent: true

    # ç¬¬å››é˜¶æ¢¯ï¼š50000+ é‡‘å¸ï¼ŒæŒ‰ 0.24% æ‰£è´¹
    - max: -1          # -1 è¡¨ç¤ºæ— ä¸Šé™
      cost: 0.0024
      if-percent: true

# æ­»äº¡æ¶ˆæ¯é…ç½®
death-message:
  player-enable: true    # å‘ç©å®¶å‘é€æ‰£è´¹æ¶ˆæ¯
  broadcast-enable: false # å…¨æœå¹¿æ’­æ­»äº¡æ‰£è´¹
  console-enable: false   # æ§åˆ¶å°è®°å½•æ‰£è´¹æ—¥å¿—
```

### é…ç½®å‚æ•°è¯´æ˜

#### æ‰£è´¹é˜¶æ¢¯é…ç½®

- `max`: é˜¶æ¢¯ä¸Šé™é‡‘é¢ï¼Œ`-1` è¡¨ç¤ºæ— ä¸Šé™
- `cost`: æ‰£è´¹æ•°å€¼ï¼Œæ ¹æ® `if-percent` å†³å®šæ˜¯é‡‘é¢è¿˜æ˜¯ç™¾åˆ†æ¯”
- `if-percent`:
  - `true`: `cost` ä¸ºç™¾åˆ†æ¯”ï¼ˆ0.001 = 0.1%ï¼‰
  - `false`: `cost` ä¸ºå›ºå®šé‡‘é¢

#### ç›®æ ‡è´¦æˆ·é…ç½®

```yaml
# æ–¹å¼1ï¼šä½¿ç”¨ç©å®¶å
target-account: "server_bank"

# æ–¹å¼2ï¼šä½¿ç”¨ UUID
target-account: "550e8400-e29b-41d4-a716-446655440000"

# æ–¹å¼3ï¼šä¸è½¬è´¦ï¼ˆè´¹ç”¨ç›´æ¥æ¶ˆå¤±ï¼‰
target-account: null
```

## ğŸ“š ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹1ï¼šç®€å•å›ºå®šæ‰£è´¹

é€‚åˆå°å‹æœåŠ¡å™¨ï¼Œæ¯æ¬¡æ­»äº¡å›ºå®šæ‰£é™¤ 100 é‡‘å¸ï¼š

```yaml
death-cost:
  use-simple-mode: true
  simple-mode:
    cost: 100.0
    if-percent: false
  target-account: "server_fund"
```

### ç¤ºä¾‹2ï¼šç®€å•ç™¾åˆ†æ¯”æ‰£è´¹

æ¯æ¬¡æ­»äº¡æ‰£é™¤ç©å®¶ä½™é¢çš„ 2%ï¼š

```yaml
death-cost:
  use-simple-mode: true
  simple-mode:
    cost: 0.02        # 2%
    if-percent: true
```

### ç¤ºä¾‹3ï¼šæ–°æ‰‹å‹å¥½çš„é˜¶æ¢¯æ‰£è´¹

ä¸ºæ–°æ‰‹æä¾›ä¿æŠ¤ï¼Œå¯Œæœ‰ç©å®¶æ‰¿æ‹…æ›´å¤šï¼š

```yaml
death-cost:
  use-simple-mode: false
  complex-mode:
    # æ–°æ‰‹æœŸï¼šä¸æ‰£è´¹
    - max: 1000.0
      cost: 0.0
      if-percent: false

    # æˆé•¿æœŸï¼šå›ºå®šæ‰£è´¹
    - max: 10000.0
      cost: 50.0
      if-percent: false

    # å‘å±•æœŸï¼šä½ç™¾åˆ†æ¯”
    - max: 100000.0
      cost: 0.005       # 0.5%
      if-percent: true

    # å¯Œè±ªæœŸï¼šé«˜ç™¾åˆ†æ¯”
    - max: -1
      cost: 0.02        # 2%
      if-percent: true
```

### ç¤ºä¾‹4ï¼šVIP ä¿æŠ¤é…ç½®

ç»™ VIP ç©å®¶æ­»äº¡å…è´¹æƒé™ï¼š

```bash
# åˆ›å»º VIP ç»„å¹¶è®¾ç½®æƒé™
/lp creategroup vip
/lp group vip permission set deathcost.bypass true

# å°†ç©å®¶åŠ å…¥ VIP ç»„
/lp user <ç©å®¶å> parent add vip
```

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. æ’ä»¶æ— æ³•åŠ è½½

**é”™è¯¯ä¿¡æ¯**: `Vault plugin not found!`

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ£€æŸ¥ Vault æ’ä»¶æ˜¯å¦å®‰è£…
/plugins

# å¦‚æœæ²¡æœ‰ï¼Œä¸‹è½½å¹¶å®‰è£… Vault æ’ä»¶
# åŒæ—¶ç¡®ä¿å®‰è£…äº†ç»æµæ’ä»¶ï¼ˆå¦‚ EssentialsXï¼‰
```

#### 2. æ­»äº¡æ—¶ä¸æ‰£è´¹

**å¯èƒ½åŸå› **:
- ç©å®¶æœ‰ `deathcost.bypass` æƒé™
- é…ç½®æ–‡ä»¶è®¾ç½®é”™è¯¯
- ç»æµæ’ä»¶é›†æˆé—®é¢˜

**æ£€æŸ¥æ­¥éª¤**:
```bash
# 1. æ£€æŸ¥ç©å®¶æƒé™
/lp user <ç©å®¶å> permission check deathcost.bypass

# 2. æŸ¥çœ‹æ’ä»¶çŠ¶æ€
/deathcost status

# 3. æ£€æŸ¥é…ç½®æ–‡ä»¶è¯­æ³•
# ä½¿ç”¨ YAML éªŒè¯å™¨æ£€æŸ¥ config.yml
```

#### 3. é…ç½®é‡è½½å¤±è´¥

**é”™è¯¯ä¿¡æ¯**: `æ’ä»¶é…ç½®é‡æ–°åŠ è½½å¤±è´¥`

**è§£å†³æ–¹æ¡ˆ**:
```bash
# 1. æ£€æŸ¥é…ç½®æ–‡ä»¶è¯­æ³•
# 2. æŸ¥çœ‹æ§åˆ¶å°é”™è¯¯ä¿¡æ¯
# 3. æ¢å¤é»˜è®¤é…ç½®æ–‡ä»¶
/deathcost reload
```

#### 4. ç›®æ ‡è´¦æˆ·è®¾ç½®å¤±è´¥

**é”™è¯¯ä¿¡æ¯**: `Player xxx not found`

**è§£å†³æ–¹æ¡ˆ**:
```yaml
# ç¡®ä¿ç›®æ ‡è´¦æˆ·å­˜åœ¨
# æ–¹å¼1ï¼šä½¿ç”¨ç¡®å®å­˜åœ¨çš„ç©å®¶å
target-account: "existing_player"

# æ–¹å¼2ï¼šä½¿ç”¨æ­£ç¡®çš„ UUID
target-account: "550e8400-e29b-41d4-a716-446655440000"

# æ–¹å¼3ï¼šä¸ä½¿ç”¨è½¬è´¦åŠŸèƒ½
target-account: null
```

### è°ƒè¯•æŠ€å·§

1. **æŸ¥çœ‹æ’ä»¶çŠ¶æ€**: ä½¿ç”¨ `/deathcost status` æ£€æŸ¥å½“å‰é…ç½®
2. **æµ‹è¯•æƒé™**: ç»™è‡ªå·±æ·»åŠ /ç§»é™¤ `deathcost.bypass` æƒé™æµ‹è¯•
3. **è§‚å¯Ÿæ—¥å¿—**: å¼€å¯æ§åˆ¶å°æ¶ˆæ¯æŸ¥çœ‹æ‰£è´¹è®°å½•
4. **åˆ†æ®µæµ‹è¯•**: å…ˆä½¿ç”¨ç®€å•æ¨¡å¼æµ‹è¯•ï¼Œå†é…ç½®å¤æ‚æ¨¡å¼

### æ€§èƒ½ä¼˜åŒ–å»ºè®®

```yaml
# ç”Ÿäº§ç¯å¢ƒæ¨èé…ç½®
death-message:
  player-enable: true      # é€šçŸ¥ç©å®¶
  broadcast-enable: false  # å…³é—­å¹¿æ’­é¿å…åˆ·å±
  console-enable: true     # ä¿ç•™æ—¥å¿—è®°å½•

# åˆç†çš„é˜¶æ¢¯è®¾è®¡
complex-mode:
  # é¿å…è¿‡å¤šé˜¶æ¢¯ï¼Œå»ºè®®ä¸è¶…è¿‡ 5 ä¸ª
  - max: 1000.0
    cost: 0.0
    if-percent: false
  # ... å…¶ä»–é˜¶æ¢¯
```

## ğŸ¤ æ”¯æŒä¸åé¦ˆ

- **é¡¹ç›®åœ°å€**: [NewNanPlugins](https://github.com/NewNanCity/NewNanPlugins)
- **é—®é¢˜åé¦ˆ**: [GitHub Issues](https://github.com/NewNanCity/NewNanPlugins/issues)
- **æ–‡æ¡£ä¸­å¿ƒ**: [æ’ä»¶æ–‡æ¡£](https://github.com/NewNanCity/NewNanPlugins/wiki)

---

**DeathCost v2.0.0** - è®©æ­»äº¡æ›´æœ‰æ„ä¹‰çš„ç»æµç³»ç»Ÿ ğŸ’€ğŸ’°
